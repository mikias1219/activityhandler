{% extends "app/base_app.html" %}
{% load static %}
{% block app_title %}Tasks{% endblock %}
{% block content %}
<div class="space-y-6">
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
    <h1 class="text-2xl font-bold text-slate-800 dark:text-slate-100">Tasks</h1>
    <div class="flex gap-2">
      <a href="/app/tasks/?view=today" id="link-today" class="px-4 py-2 rounded-lg text-sm font-medium bg-slate-200 dark:bg-slate-700">Today</a>
      <a href="/app/tasks/" id="link-all" class="px-4 py-2 rounded-lg text-sm font-medium bg-emerald-600 text-white">All</a>
      <button type="button" id="btn-new-task" class="px-4 py-2 rounded-lg text-sm font-medium bg-emerald-600 hover:bg-emerald-700 text-white">+ New task</button>
    </div>
  </div>
  <div id="task-form" class="hidden bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-6 mb-6">
    <h3 class="font-semibold mb-4" id="form-title">New task</h3>
    <form id="task-form-el">
      <input type="hidden" id="task-id">
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div class="sm:col-span-2">
          <label class="block text-sm font-medium mb-1">Title</label>
          <input type="text" id="task-title" required class="w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700">
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">Due date</label>
          <input type="date" id="task-due" class="w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700">
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">Priority</label>
          <select id="task-priority" class="w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700">
            <option value="urgent_important">Urgent and Important</option>
            <option value="urgent_not_important">Urgent Not Important</option>
            <option value="not_urgent_important">Not Urgent Important</option>
            <option value="not_urgent_not_important">Not Urgent Not Important</option>
          </select>
        </div>
        <div class="sm:col-span-2">
          <label class="block text-sm font-medium mb-1">Notes</label>
          <textarea id="task-notes" rows="2" class="w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700"></textarea>
        </div>
      </div>
      <div class="mt-4 flex gap-2">
        <button type="submit" class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg text-sm">Save</button>
        <button type="button" id="btn-cancel-task" class="px-4 py-2 bg-slate-200 dark:bg-slate-700 rounded-lg text-sm">Cancel</button>
      </div>
    </form>
  </div>
  <div id="tasks-list" class="bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 divide-y divide-slate-200 dark:divide-slate-700">
    <p class="p-6 text-slate-500">Loading tasks.</p>
  </div>
</div>
<script src="{% static 'js/tasks.js' %}"></script>
{% endblock %}
